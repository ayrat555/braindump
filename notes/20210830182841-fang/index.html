<!doctype html><html><head><title>Fang â€“ Airat's Braindump</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name=apple-mobile-web-app-capable content="yes"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=icon type=image/svg+xml href=favicon.svg><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=https://braindump.badykov.com/scss/main.min.9cfe1354c9821571164573c5e775224232c1ad9ab99a44d4942fbb9d3cf59555.css></head><body><header><a href=/about id=logo><img src="https://braindump.badykov.com/img/logo.png?v=3" srcset="https://braindump.badykov.com/img/logo@2x.png 2x, https://braindump.badykov.com/img/logo@3x.png 3x" alt="Arne Bahlo"><h3 class=site-title>Airat's Braindump</h3></a><form id=search autocomplete=off action=https://braindump.badykov.com/search/ method=get><label hidden for=search-input>Search site</label>
<input type=text id=search-input name=query placeholder="Type here to search">
<input type=submit value=search></form></header><div class=grid><div class=page data-level=1><h1 class=collapsed-title>Fang</h1><div class=content><a href=https://braindump.badykov.com/notes/20210830182841-fang/ alt=Fang class=permalink><h1>Fang</h1></a><p><a href=https://github.com/ayrat555/fang target=_blank>Fang<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="external-link-icon"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg></a>
is a background processing framework written in Rust.</p><p>Key attribures:</p><ul><li>Postgres DB is a job queue</li><li>Multithreaded processing</li></ul><h2 id=potential-features-improvements>Potential features/improvements</h2><ul><li><p>Allow duplicates in the queue</p><p>Currently you can not insert the same job in the queue multiple times.</p><p>It&rsquo;s done mostly for <a href=/notes/20210109164238-el_monitorro/>El Monitorro</a></p></li><li><p>Find a way to get rid of typetag</p><p><a href=https://github.com/dtolnay/typetag/issues/35>https://github.com/dtolnay/typetag/issues/35</a></p></li></ul></div><div class=bl-section><h4>Links to this note</h4><div class=backlinks><ul><li><a href=/notes/20210109164238-el_monitorro/>El Monitorro</a></li><li><a href=/notes/20210830181701-my_projects/>My projects</a></li></ul></div></div></div></div><script src=https://braindump.badykov.com/js/page.js type=text/javascript></script><script id=MathJax-script async src=https://braindump.badykov.com/js/tex-mml-chtml.js></script><script>window.store={"https:\/\/braindump.badykov.com\/notes\/20210112125553-2020_year_in_review\/":{title:"2020 year in review",tags:[],content:"El monitorro/Rust Painting A couple of open source libs libsecp256k1 hornet Note taking ",url:"https://braindump.badykov.com/notes/20210112125553-2020_year_in_review/"},"https:\/\/braindump.badykov.com\/":{title:"Airat\u0027s Braindump",tags:[],content:"",url:"https://braindump.badykov.com/"},"https:\/\/braindump.badykov.com\/about\/":{title:"Airat\u0027s Braindump",tags:[],content:"Hi! I\u0026rsquo;m Airat   , and you\u0026rsquo;ve stumbled upon my braindump. This website contains my working notes accumulated over some years. I haven\u0026rsquo;t exported all notes yet. So stay tuned\nYou can start hopping around by going to the full index or check out my open source projects .\nHave fun!\n",url:"https://braindump.badykov.com/about/"},"https:\/\/braindump.badykov.com\/notes\/20210303223032-amethyst\/":{title:"Amethyst",tags:[],content:"Resources to learn: Roguelike book  https://github.com/amethyst/rustrogueliketutorial  Amethyst book  https://book.amethyst.rs/book/stable/concepts/system  ",url:"https://braindump.badykov.com/notes/20210303223032-amethyst/"},"https:\/\/braindump.badykov.com\/notes\/20210112095428-rudeness\/":{title:"Authoritarian rudeness",tags:[],content:"In authoritarian countries people are more rude in communications between each other. Maybe it\u0026rsquo;s a root cause of rudeness in Russia?\nhttps://meduza.io/feature/2021/01/12/pochemu-sssr-konchilsya-a-hamstvo-net\n",url:"https://braindump.badykov.com/notes/20210112095428-rudeness/"},"https:\/\/braindump.badykov.com\/notes\/20210830185320-blockscout\/":{title:"Blockscout",tags:[],content:"Blockscout   - blockchain explorer for Ethereum based chains.\nI\u0026rsquo;ve worked on it for a year\n",url:"https://braindump.badykov.com/notes/20210830185320-blockscout/"},"https:\/\/braindump.badykov.com\/notes\/20210102195329-cargo_el_improvements\/":{title:"Cargo.el improvements",tags:[],content:"  Allow to select a commands - https://github.com/kwrooijen/cargo.el/issues/109\n  Execute the last commands - https://github.com/kwrooijen/cargo.el/issues\nor\nCreate new cargo package for emacs   ",url:"https://braindump.badykov.com/notes/20210102195329-cargo_el_improvements/"},"https:\/\/braindump.badykov.com\/categories\/":{title:"Categories",tags:[],content:"",url:"https://braindump.badykov.com/categories/"},"https:\/\/braindump.badykov.com\/notes\/20210105213226-create_new_cargo_package_for_emacs\/":{title:"Create new cargo package for emacs",tags:[],content:"Current solution (cargo.el) has not optimal keybindings. Also, the killer feature of new library would be selection of cargo task from `completing-read` using `cargo \u0026ndash;list`\n",url:"https://braindump.badykov.com/notes/20210105213226-create_new_cargo_package_for_emacs/"},"https:\/\/braindump.badykov.com\/notes\/20210109164238-el_monitorro\/":{title:"El Monitorro",tags:[],content:"El Monitorro   is a telegram bot for reading RSS, Atom and JSON feeds. It\u0026rsquo;s written in Rust.\nKey features:   High performance.\nAll processing done with Fang   Filters - users can provide key words he wants to subscribe to\n  Templates - users can set a format of messages\nCurrently, it\u0026rsquo;s implemented using handlebars. And UX can be improved\n  A couple of channels created with this bot:\n https://t.me/emacs%5Fposts - Emacs News and Posts https://t.me/metacritic%5Ftv - Latest Tv Show Metascores on Metacritic  The libraries I wrote for this project:\n Fang  Frankenstein   Backlog  Update readme and release a new version of the bot on dockerhub Update env variables  Potential features / improvements   Limit the number of superfast feeds\n  Exponential backoff for failed feeds\n  Do not upsert feeds items on every sync (compare the last fetched item and item in the db)\n  Instead of syncing every feed periodically sync the earliest feeds.\n  Use handlebars directly for templates\nUX for templates can be improved\n  Add good looking landing site\nhttps://www.getzola.org/themes/juice/\n  Allow users to set their bot token\nBot hits telegram rate limit. https://t.me/el%5Fmonitorro%5Fnews/3\n  ",url:"https://braindump.badykov.com/notes/20210109164238-el_monitorro/"},"https:\/\/braindump.badykov.com\/notes\/20210107221817-emacs\/":{title:"Emacs",tags:[],content:"Tweaks  Possible contributions Cargo.el  Possible projects Create new cargo package for emacs  emacs env for elixir  Learn/improve skills Org-roam  Org-roam is the great tool. Learning improves productivity.\nOrg-mode Org-mode is a great note taking tool. Learning it better will improve my productivity.\n",url:"https://braindump.badykov.com/notes/20210107221817-emacs/"},"https:\/\/braindump.badykov.com\/notes\/20210103200237-emacs_configuration_improvements\/":{title:"Emacs configuration improvements",tags:[],content:"Things that need imrovements: Start emacs server on macos boot Creating plist and additing `Library/LaunchAgents` starts two daemons, using just `em ./` starts one daemon\nSet up org-capture shortcuts from anywhere using org-protocol\nFigure out / clean types of notes I think content to consume should only have main type notes, without notes for separate movies etc\nEmacs creates garbage files in home directory Try org-super-agenda https://github.com/alphapapa/org-super-agenda\nCheck https://github.com/progfolio/doct Check https://github.com/manateelazycat/snails Fix org-journal agenda for new files Make compilation mode long lines separated Done DONESet up sounds for pomidor DONEdisable olivetti for markdown ",url:"https://braindump.badykov.com/notes/20210103200237-emacs_configuration_improvements/"},"https:\/\/braindump.badykov.com\/notes\/20210102165851-emacs_env_for_elixir\/":{title:"emacs env for elixir",tags:[],content:"Create a setup for elixir dev in emacs. Like unmaintained `alchemist`\n",url:"https://braindump.badykov.com/notes/20210102165851-emacs_env_for_elixir/"},"https:\/\/braindump.badykov.com\/notes\/20210830182841-fang\/":{title:"Fang",tags:[],content:"Fang   is a background processing framework written in Rust.\nKey attribures:\n Postgres DB is a job queue Multithreaded processing  Potential features/improvements   Allow duplicates in the queue\nCurrently you can not insert the same job in the queue multiple times.\nIt\u0026rsquo;s done mostly for El Monitorro   Find a way to get rid of typetag\nhttps://github.com/dtolnay/typetag/issues/35\n  ",url:"https://braindump.badykov.com/notes/20210830182841-fang/"},"https:\/\/braindump.badykov.com\/notes\/20210724142806-fang_improvements\/":{title:"fang improvements",tags:[],content:"Improvements DONERename postgres into queue DONEtry to pass connection into run function DONEremove all tasks of specific kind Find a way to get rid of typetag https://github.com/dtolnay/typetag/issues/35 Add an option to insert duplicated jobs ",url:"https://braindump.badykov.com/notes/20210724142806-fang_improvements/"},"https:\/\/braindump.badykov.com\/notes\/20210830183352-frankenstein\/":{title:"Frankenstein",tags:[],content:"Frankenstein   is a telegram client written Rust.\nKey features:\n Simplicity Small number of dependencies Http client can be replaced with any library  ",url:"https://braindump.badykov.com/notes/20210830183352-frankenstein/"},"https:\/\/braindump.badykov.com\/notes\/20210606075727-git_submodules\/":{title:"Git Submodules",tags:[],content:"Deleting submodule  Delete the relevant section from the .gitmodules file. Stage the .gitmodules changes git add .gitmodules Delete the relevant section from .git/config. Run git rm \u0026ndash;cached path_to_submodule (no trailing slash). Run rm -rf .git/modules/path_to_submodule (no trailing slash). Commit git commit -m \u0026ldquo;Removed submodule \u0026quot; Delete the now untracked submodule files rm -rf path_to_submodule  ",url:"https://braindump.badykov.com/notes/20210606075727-git_submodules/"},"https:\/\/braindump.badykov.com\/notes\/20210107211250-habits_i_want_to_develop\/":{title:"Habits I want to develop",tags:[],content:"I want to develop several habits: Painting Reading fiction books in english ",url:"https://braindump.badykov.com/notes/20210107211250-habits_i_want_to_develop/"},"https:\/\/braindump.badykov.com\/notes\/20210101224257-learn_org_roam\/":{title:"Learn org-roam",tags:[],content:"Blog posts on org-roam:\n https://notes.alexkehayias.com/org-roam/ https://vincent.demeester.fr/articles/org%5Froam.html https://www.lesswrong.com/posts/NfdHG6oHBJ8Qxc26s/the-zettelkasten-method-1  Videos on zettelkasten:\nhttps://www.google.com/search?q=zettelkasten+youtube\u0026amp;sxsrf=ALeKk03k%5F168n-0OQ%5FxRpyQMGCzdW7u1-Q:1609530353742\u0026amp;source=lnms\u0026amp;tbm=vid\u0026amp;sa=X\u0026amp;ved=2ahUKEwjMsPXnv%5FvtAhXSmIsKHUdKDWcQ%5FAUoAXoECAYQAw\u0026amp;biw=1440\u0026amp;bih=795\nImprovements:\n Different directory: I think content to consume should have a separate directory Journaling ? how will it help cypher personal stuff cloud  ",url:"https://braindump.badykov.com/notes/20210101224257-learn_org_roam/"},"https:\/\/braindump.badykov.com\/notes\/20210107220015-learning_rust\/":{title:"Learning Rust",tags:[],content:"Steps Re-read Rust book https://doc.rust-lang.org/book/ https://doc.rust-lang.org/reference/index.html\nCreate a hobby project Re-write Cronenberg ",url:"https://braindump.badykov.com/notes/20210107220015-learning_rust/"},"https:\/\/braindump.badykov.com\/notes\/20210830184907-mana\/":{title:"Mana",tags:[],content:"Mana   - Ethereum node implementation in Elixir.\nIt started as a hobby project. But after it got some attention from the community I\u0026rsquo;ve started working on it full time.\nI\u0026rsquo;ve worked on it with a good team of developers for almost a year. Now it\u0026rsquo;s abandoned but it can be used as a reference.\n",url:"https://braindump.badykov.com/notes/20210830184907-mana/"},"https:\/\/braindump.badykov.com\/notes\/20210303215232-metal_on_mac_os\/":{title:"metal on mac os",tags:[],content:"metal is needed for the amethyst framework\nHow to fix Install Xcode from the Apple App Store. Install the command line tools with xcode-select \u0026ndash;install. This might do nothing on your machine. If xcode-select \u0026ndash;print-path prints /Library/Developer/CommandLineToolsâ€¦ then run sudo xcode-select \u0026ndash;switch /Applications/Xcode.app/Contents/Developer.\nhttps://github.com/gfx-rs/gfx/issues/2309#issuecomment-506130902\n",url:"https://braindump.badykov.com/notes/20210303215232-metal_on_mac_os/"},"https:\/\/braindump.badykov.com\/notes\/20210830181701-my_projects\/":{title:"My projects",tags:[],content:"Rust   El Monitorro - Telegram bot for reading feeds in Rust\n  Fang - Background processing library in Rust\n  Frankenstein - Telegram client for Rust\n  Cronenberg   - Simple cron command entry parser in Rust\n  Elixir   Mana - Ethereum implementation in Elixir\n  Blockscout - Ethereum explorer\n  ExRLP   - Elixir implementation of Ethereum\u0026rsquo;s RLP (Recursive Length Prefix) encoding\n  ExABI   - The Application Binary Interface (ABI) of Solidity for Elixir\n  ExSecp256k1   - libsecp256k1 NIF\nNative Implemented Function (NIF) that wraps a couple functions from the libsecp256k1 Rust library. It only wraps secp256k1 functions used in Ethereum\n  BN   - BN128 elliptic curve operations for Elixir, used in Ethereum\u0026rsquo;s zkSNARKs\n  EthBloom   - Ethereum\u0026rsquo;s bloom filter implementation in elixir, integrated in Mana\n  Hornet   - Simple library for stress testing\n  CLOPE   - Elixir implementation of CLOPE\nA Fast and Effective Clustering Algorithm for Transactional Data\n  ROCK   - Elixir implementation of ROCK\nA Robust Clustering Algorithm for Categorical Attributes\n  Ethereumex   - Elixir JSON-RPC client for the Ethereum blockchain\n  UploadcareEx   - Simple Elixir wrapper for Uploadcare API\n  BalalaikaBear   - VK API wrapper for Elixir\n  ExRiakCS   - Riak CS API wrapper for Elixir\n  ",url:"https://braindump.badykov.com/notes/20210830181701-my_projects/"},"https:\/\/braindump.badykov.com\/notes\/20210102114927-note_blogging_platform\/":{title:"Note blogging platform",tags:[],content:"Twitter analog but with bidirectional links from any post\n",url:"https://braindump.badykov.com/notes/20210102114927-note_blogging_platform/"},"https:\/\/braindump.badykov.com\/notes\/20210102124719-note_taking\/":{title:"Note taking",tags:[],content:"Create a post my note taking routines:\n org-roam todos project todos habits captures org journal  ",url:"https://braindump.badykov.com/notes/20210102124719-note_taking/"},"https:\/\/braindump.badykov.com\/notes\/":{title:"Notes",tags:[],content:"",url:"https://braindump.badykov.com/notes/"},"https:\/\/braindump.badykov.com\/notes\/20210101230135-oos_contributions_and_improvements\/":{title:"OOS contributions and improvements",tags:[],content:"Emacs DONECargo.el improvements  Wrote a new cargo package - https://github.com/ayrat555/cargo-mode\nDONEAllow to modify commands directly in completing-read Wrote a new cargo package - https://github.com/ayrat555/cargo-mode\nRust DONECreate telegram api wrapper for Rust Wrote frankenstein - https://github.com/ayrat555/frankenstein\n",url:"https://braindump.badykov.com/notes/20210101230135-oos_contributions_and_improvements/"},"https:\/\/braindump.badykov.com\/notes\/20210111133036-pomidor\/":{title:"Pomidor",tags:[],content:"Notes  Use `afplay` to play sounds on MacOs  ",url:"https://braindump.badykov.com/notes/20210111133036-pomidor/"},"https:\/\/braindump.badykov.com\/notes\/20210102125233-post_about_performance_testing_with_datadog\/":{title:"Post about performance testing with datadog",tags:[],content:"The work I\u0026rsquo;ve done for elixir-omg\n",url:"https://braindump.badykov.com/notes/20210102125233-post_about_performance_testing_with_datadog/"},"https:\/\/braindump.badykov.com\/notes\/20210104214258-post_ideas\/":{title:"Post ideas",tags:[],content:" Post about performance testing with datadog  Note taking  2020 year in review   ",url:"https://braindump.badykov.com/notes/20210104214258-post_ideas/"},"https:\/\/braindump.badykov.com\/notes\/20210110202229-postgres_in_alpine\/":{title:"Postgres in Alpine",tags:[],content:"It seems postgres library is broken in alpine.\nI was trying to use alpine for el_monitorro docker image. `diesel` commands were failing with segmentation errors\nRelated links:\n https://github.com/diesel-rs/diesel/issues/700  ",url:"https://braindump.badykov.com/notes/20210110202229-postgres_in_alpine/"},"https:\/\/braindump.badykov.com\/search\/":{title:"Search me!",tags:[],content:"",url:"https://braindump.badykov.com/search/"},"https:\/\/braindump.badykov.com\/notes\/20210103172008-setting_shortcuts_for_mac_os\/":{title:"Setting shortcuts for mac os",tags:[],content:"https://github.com/deseven/icanhazshortcut\n",url:"https://braindump.badykov.com/notes/20210103172008-setting_shortcuts_for_mac_os/"},"https:\/\/braindump.badykov.com\/notes\/20210313110026-setting_up_gpg_on_mac_os\/":{title:"Setting up gpg on mac os",tags:[],content:"Install gpg2 and pinentry-mac: brew install gnupg brew install pinentry-mac Generating a GPG key #Generating key gpg --full-generate-key #Checking my key gpg --list-secret-keys --keyid-format LONG #Copying key gpg --armor --export 3AA5C34371567BD2 # Setting key for git git config --global user.signingkey 3AA5C34371567BD2 UI for gpg password pinentry-program /usr/local/bin/pinentry-mac\nnano .gnupg/gpg-agent.conf # insert into gpg-agent pinentry-program /usr/local/bin/pinentry-mac # restart agent gpgconf --kill gpg-agent https://medium.com/@jma/setup-gpg-for-git-on-macos-4ad69e8d3733\n",url:"https://braindump.badykov.com/notes/20210313110026-setting_up_gpg_on_mac_os/"},"https:\/\/braindump.badykov.com\/tags\/":{title:"Tags",tags:[],content:"",url:"https://braindump.badykov.com/tags/"},"https:\/\/braindump.badykov.com\/notes\/20210515123015-terminal_productivity\/":{title:"Terminal productivity",tags:[],content:"fzf - command-line fuzzy finder https://github.com/junegunn/fzf\nzoxide - dir navigation https://github.com/ajeetdsouza/zoxide\n",url:"https://braindump.badykov.com/notes/20210515123015-terminal_productivity/"},"https:\/\/braindump.badykov.com\/notes\/20210104213826-weekly_tech_meetup\/":{title:"Weekly tech meetup",tags:[],content:"Found a weekly tech meetup (emacs or elixir) so people can share their thoughts and ideas.\nIt will contain 2-3 talks 20min-30min talks.\n",url:"https://braindump.badykov.com/notes/20210104213826-weekly_tech_meetup/"}}</script><script src=https://braindump.badykov.com/js/lunr.min.js type=text/javascript></script><script src=https://braindump.badykov.com/js/search.js type=text/javascript></script></body></html>